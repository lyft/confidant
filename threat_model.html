

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Threat model &mdash; confidant 6.3.0-79e1f7 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/confidant.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="KMS authentication" href="kms_auth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="contents.html" class="icon icon-home"> confidant
          

          
          </a>

          
            
            
              <div class="version">
                6.3.0-79e1f7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#quickstart-for-testing">Quickstart for testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#docker-installation">Docker installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#to-run-confidant-in-docker">To run confidant in Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#to-build-the-image">To build the image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#pip-installation">pip installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#make-a-virtualenv-and-install-pip-requirements">Make a virtualenv and install pip requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#manual-installation">Manual installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#clone-confidant">Clone Confidant</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#id1">Make a virtualenv and install pip requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#build-the-frontend">Build the frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#run-confidant">Run confidant</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#docker-vs-bash">Docker vs bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#environment-configuration">Environment configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#gunicorn-configuration-for-ssl-termination-support">gunicorn configuration for SSL termination support</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#google-authentication-configuration">Google authentication configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#saml-authentication-configuration">SAML authentication configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#user-authentication-session-settings">User authentication session settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#disabling-credential-conflict-checks">Disabling credential conflict checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#statsd-metrics">statsd metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#sending-graphite-events">Sending graphite events</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#google-authentication-user-restrictions">Google authentication user restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#auth-token-lifetime">Auth token lifetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#frontend-configuration">Frontend configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#development-and-testing-settings">Development and testing settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#bootstrapping-confidant-s-own-secrets">Bootstrapping Confidant’s own secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#multi-account-authentication">Multi-account authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#kms-authentication-for-end-users">KMS authentication for end-users</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#kms-grant-management">KMS grant management</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#confidant-client-configuration">Confidant client configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#maintenance-mode-settings">Maintenance mode settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#confidant-performance-settings">Confidant performance settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#certificate-authority-settings">Certificate Authority settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#settings-for-local-development">Settings for local development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#kms-key-policy-configuration">KMS key policy configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#confidant-iam-role-configuration">Confidant IAM role configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#confidant-dynamodb-table-configuration">Confidant DynamoDB table configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using_confidant.html">Managing secrets and mappings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using_confidant.html#using-the-resources-view">Using the resources view</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#creating-secrets">Creating secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#mapping-secrets-to-services">Mapping secrets to services</a></li>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#finding-credentials-and-services-in-the-sidebar">Finding credentials and services in the sidebar</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using_confidant.html#using-the-history-view">Using the history view</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Using the Confidant client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#reformatting-get-service-output">Reformatting get_service output</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-route-documentation">API route documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acls.html">Access Controls (ACLs)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="acls.html#design">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-hookpoints">ACL Hookpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="acls.html#credentials">Credentials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="acls.html#list-credentials">List credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-credential-metadata">Get credential metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-credential">Get credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#create-credential">Create credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#update-credential">Update credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#id1">Revert credential</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="acls.html#services">Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="acls.html#list-services">List services</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-service-metadata">Get service metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-service">Get service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#create-service">Create service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#update-service">Update service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#id3">Revert service</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blind_secrets.html">Server-blinded secrets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="blind_secrets.html#what-are-server-blinded-secrets">What are server-blinded secrets?</a></li>
<li class="toctree-l2"><a class="reference internal" href="blind_secrets.html#kms-keys-and-iam-policy-examples-for-server-blinded-secrets">KMS keys and IAM policy examples for server-blinded secrets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="blind_secrets.html#creating-and-updating-server-blinded-secrets-using-the-confidant-client">Creating and updating server-blinded secrets using the confidant client</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kms_auth.html">KMS authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#service-to-service-authentication">Service-to-service authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="kms_auth.html#iam-policy-configuration-for-service-to-service-auth">IAM policy configuration for service-to-service auth</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#passing-encrypted-data-between-services">Passing encrypted data between services</a></li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#user-to-service-authentication">User-to-service authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#multi-account-kms-authentication">Multi-account KMS authentication</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Threat model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#web-client-threat-model">Web client threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#assumptions">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-authenticated-user-can-achieve">What an authenticated user can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-compromise-of-an-authenticated-user-s-computer-can-achieve">What compromise of an authenticated user’s computer can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-unauthenticated-local-network-attacker-who-can-observe-network-traffic-can-achieve">What an unauthenticated local network attacker who can observe network traffic can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-unauthenticated-attacker-from-the-internet-can-achieve">What an unauthenticated attacker from the Internet can achieve</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web-server-threat-model">Web server threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-attacker-can-achieve-through-compromise-of-the-confidant-web-server">What an attacker can achieve through compromise of the Confidant web server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#service-client-threat-model">Service client threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-the-service-can-achieve">What the service can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-attacker-can-achieve-with-a-filesystem-read-vulnerability">What an attacker can achieve with a filesystem read vulnerability</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#storage-threat-model">Storage threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-an-attacker-with-dynamodb-access-can-achieve">What an attacker with DynamoDB access can achieve</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#code-of-conduct">Code of conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-code">Contributing code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#sign-the-contributor-license-agreement-cla">Sign the Contributor License Agreement (CLA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#file-issues-in-github">File issues in Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#submit-pull-requests">Submit pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#development-guide">Development guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#development-using-docker-compose">Development using docker-compose</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_schema.html">DynamoDB Data Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_schema.html#at-rest-encryption-model">At-rest encryption model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#permanantly-archiving-disabled-credentials-to-a-separate-dynamodb-table">Permanantly archiving disabled credentials to a separate DynamoDB table</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#restoring-archived-credentials-back-into-the-primary-dynamodb-table">Restoring archived credentials back into the primary DynamoDB table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#upgrading-to-2-0-0-or-3-0-0">Upgrading to 2.0.0 or 3.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html#performing-the-data-migration">Performing the data migration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#upgrading-to-4-0-0">Upgrading to 4.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html#peforming-the-data-migration-for-4-0-0">Peforming the data migration for 4.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">6.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id2">6.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id3">6.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id4">6.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id5">5.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id6">5.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id7">5.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id8">5.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id9">4.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id10">4.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id11">4.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id12">4.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id13">4.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id14">4.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id15">3.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id16">2.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id17">2.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id18">1.11.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id19">1.10.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id20">1.10.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id21">1.9.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id22">1.8.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id23">1.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id24">1.6.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id25">1.5.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id26">1.5.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id27">1.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id28">1.3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id29">1.2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id30">1.1.21</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id31">1.1.20</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id32">1.1.19</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id33">1.1.16 - 1.1.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id34">1.1.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id35">1.1.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id36">1.1.13</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Communication</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="security_reporting.html">Reporting security vulnerabilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">confidant</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="contents.html">Docs</a> &raquo;</li>
        
      <li>Threat model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/threat_model.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="threat-model">
<h1>Threat model<a class="headerlink" href="#threat-model" title="Permalink to this headline">¶</a></h1>
<p>The threat model is written in terms of what an attacker can accomplish from
various perspectives. It’s meant to be exhaustive, and anything missing should
be reported as an issue in the github project.</p>
<div class="section" id="web-client-threat-model">
<h2>Web client threat model<a class="headerlink" href="#web-client-threat-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="assumptions">
<h3>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Valid authenticated and authorized users act in good faith.</p></li>
<li><p>Users’ computers are not infected by malware.</p></li>
<li><p>TLS is being used for http connections and is configured in a secure manner.</p></li>
</ol>
</div>
<div class="section" id="what-an-authenticated-user-can-achieve">
<h3>What an authenticated user can achieve<a class="headerlink" href="#what-an-authenticated-user-can-achieve" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>A user can view all secrets, but can not view the credential pairs of blind
secrets.</p></li>
<li><p>A user can view all secret to service mappings.</p></li>
<li><p>A user can create new revisions of a secret or blind secret.</p></li>
<li><p>A user can create new revisions of a service mapping.</p></li>
</ol>
</div>
<div class="section" id="what-compromise-of-an-authenticated-user-s-computer-can-achieve">
<h3>What compromise of an authenticated user’s computer can achieve<a class="headerlink" href="#what-compromise-of-an-authenticated-user-s-computer-can-achieve" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Compromise of a user’s computer can give the attacker access to all actions
achievable by the authenticated user.</p></li>
</ol>
</div>
<div class="section" id="what-an-unauthenticated-local-network-attacker-who-can-observe-network-traffic-can-achieve">
<h3>What an unauthenticated local network attacker who can observe network traffic can achieve<a class="headerlink" href="#what-an-unauthenticated-local-network-attacker-who-can-observe-network-traffic-can-achieve" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>The passive attacker can learn which client IP addresses are using Confidant.</p></li>
<li><p>The passive attacker can block access to Confidant.</p></li>
<li><p>The passive attacker can observe the approximate size of secrets.</p></li>
</ol>
</div>
<div class="section" id="what-an-unauthenticated-attacker-from-the-internet-can-achieve">
<h3>What an unauthenticated attacker from the Internet can achieve<a class="headerlink" href="#what-an-unauthenticated-attacker-from-the-internet-can-achieve" title="Permalink to this headline">¶</a></h3>
<p>Note: It’s highly suggested to run Confidant on a private network or VPN,
rather than directly accessible on the internet.</p>
<ol class="arabic simple">
<li><p>An attacker from the internet can DoS the Confidant server.</p></li>
</ol>
</div>
</div>
<div class="section" id="web-server-threat-model">
<h2>Web server threat model<a class="headerlink" href="#web-server-threat-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Assumptions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>The web service is given the least amount of AWS IAM privilege allowed to
run properly, as defined in the configuration guide.</p></li>
<li><p>The web service is given only the network access necessary to run properly.</p></li>
</ol>
</div>
<div class="section" id="what-an-attacker-can-achieve-through-compromise-of-the-confidant-web-server">
<h3>What an attacker can achieve through compromise of the Confidant web server<a class="headerlink" href="#what-an-attacker-can-achieve-through-compromise-of-the-confidant-web-server" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>An attacker who successfully compromises the Confidant flask server has full
control of the service’s IAM credentials and can read secrets, corrupt or
delete secrets, remap secrets to other services, manipulate web server logs,
and modify KMS AUTH_KEY grants. The attacker can not read blind secrets
that confidant’s IAM credentials do not allow access to.</p></li>
</ol>
</div>
</div>
<div class="section" id="service-client-threat-model">
<h2>Service client threat model<a class="headerlink" href="#service-client-threat-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Assumptions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>IAM policy is properly configured for the KMS AUTH_KEY, if using KMS auth.</p></li>
<li><p>IAM policy is properly configured for the S3 locations, if S3 auth is used.</p></li>
<li><p>TLS with a valid trust is being used for http connections.</p></li>
<li><p>IAM policy is properly configured for DynamoDB</p></li>
</ol>
</div>
<div class="section" id="what-the-service-can-achieve">
<h3>What the service can achieve<a class="headerlink" href="#what-the-service-can-achieve" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>A service can retrieve the unencrypted secrets mapped to it.</p></li>
<li><p>A service can read blind secrets mapped to it, assuming the service’s IAM
policy allows it to decrypt the blind secrets.</p></li>
</ol>
</div>
<div class="section" id="what-an-attacker-can-achieve-with-a-filesystem-read-vulnerability">
<h3>What an attacker can achieve with a filesystem read vulnerability<a class="headerlink" href="#what-an-attacker-can-achieve-with-a-filesystem-read-vulnerability" title="Permalink to this headline">¶</a></h3>
<p>Client management and storage of secrets is an implementation detail outside of
the scope of the Confidant service itself, but the following threat models
could apply.</p>
<ol class="arabic simple">
<li><p>If a service is storing the authentication token on the filesystem, an
attacker would be able to steal the token, which would give them the access
level of the service for the lifetime of the token.</p></li>
<li><p>If a service is storing the secrets on the filesystem unencrypted, an
attacker would be able to steal the service secrets.</p></li>
</ol>
</div>
</div>
<div class="section" id="storage-threat-model">
<h2>Storage threat model<a class="headerlink" href="#storage-threat-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Assumptions<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>cryptography.io’s Fernet implementation is secure.</p></li>
<li><p>KMS’s AES implementation is secure.</p></li>
<li><p>Attackers don’t have access to the KMS master key.</p></li>
</ol>
</div>
<div class="section" id="what-an-attacker-with-dynamodb-access-can-achieve">
<h3>What an attacker with DynamoDB access can achieve<a class="headerlink" href="#what-an-attacker-with-dynamodb-access-can-achieve" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>An attacker with full DynamoDB access can delete or corrupt all service and
secrets.</p></li>
<li><p>An attacker with full DynamoDB access could map secrets to other services.</p></li>
<li><p>An attacker with read DynamoDB access can read service mapping data and
the metadata (friendly name, modified date, modified by, etc.) of secrets.</p></li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kms_auth.html" class="btn btn-neutral float-left" title="KMS authentication" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2020, Confidant Project Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>