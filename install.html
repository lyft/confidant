<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; confidant 6.6.1-ef1d61 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/confidant.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Confidant" href="contents.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="contents.html" class="icon icon-home">
            confidant
          </a>
              <div class="version">
                6.6.1-ef1d61
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quickstart-for-testing">Quickstart for testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-installation">Docker installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#to-run-confidant-in-docker">To run confidant in Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-build-the-image">To build the image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pip-installation">pip installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#make-a-virtualenv-and-install-pip-requirements">Make a virtualenv and install pip requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manual-installation">Manual installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#clone-confidant">Clone Confidant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Make a virtualenv and install pip requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-the-frontend">Build the frontend</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-confidant">Run confidant</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#docker-vs-bash">Docker vs bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#environment-configuration">Environment configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#gunicorn-configuration-for-ssl-termination-support">gunicorn configuration for SSL termination support</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#google-authentication-configuration">Google authentication configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#saml-authentication-configuration">SAML authentication configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#user-authentication-session-settings">User authentication session settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#disabling-credential-conflict-checks">Disabling credential conflict checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#statsd-metrics">statsd metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#sending-graphite-events">Sending graphite events</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#google-authentication-user-restrictions">Google authentication user restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#auth-token-lifetime">Auth token lifetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#frontend-configuration">Frontend configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#development-and-testing-settings">Development and testing settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#bootstrapping-confidant-s-own-secrets">Bootstrapping Confidant’s own secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#multi-account-authentication">Multi-account authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#kms-authentication-for-end-users">KMS authentication for end-users</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#kms-grant-management">KMS grant management</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#confidant-client-configuration">Confidant client configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#maintenance-mode-settings">Maintenance mode settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#confidant-performance-settings">Confidant performance settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#certificate-authority-settings">Certificate Authority settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#settings-for-local-development">Settings for local development</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#kms-key-policy-configuration">KMS key policy configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#confidant-iam-role-configuration">Confidant IAM role configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#confidant-dynamodb-table-configuration">Confidant DynamoDB table configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using_confidant.html">Managing secrets and mappings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using_confidant.html#using-the-resources-view">Using the resources view</a><ul>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#creating-secrets">Creating secrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#mapping-secrets-to-services">Mapping secrets to services</a></li>
<li class="toctree-l3"><a class="reference internal" href="using_confidant.html#finding-credentials-and-services-in-the-sidebar">Finding credentials and services in the sidebar</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="using_confidant.html#using-the-history-view">Using the history view</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Using the Confidant client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="client.html#reformatting-get-service-output">Reformatting get_service output</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-route-documentation">API route documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="acls.html">Access Controls (ACLs)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="acls.html#design">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="acls.html#acl-hookpoints">ACL Hookpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="acls.html#credentials">Credentials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="acls.html#list-credentials">List credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-credential-metadata">Get credential metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-credential">Get credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#create-credential">Create credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#update-credential">Update credential</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#id1">Revert credential</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="acls.html#services">Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="acls.html#list-services">List services</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-service-metadata">Get service metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#get-service">Get service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#create-service">Create service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#update-service">Update service</a></li>
<li class="toctree-l4"><a class="reference internal" href="acls.html#id3">Revert service</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="blind_secrets.html">Server-blinded secrets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="blind_secrets.html#what-are-server-blinded-secrets">What are server-blinded secrets?</a></li>
<li class="toctree-l2"><a class="reference internal" href="blind_secrets.html#kms-keys-and-iam-policy-examples-for-server-blinded-secrets">KMS keys and IAM policy examples for server-blinded secrets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="blind_secrets.html#creating-and-updating-server-blinded-secrets-using-the-confidant-client">Creating and updating server-blinded secrets using the confidant client</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="kms_auth.html">KMS authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#service-to-service-authentication">Service-to-service authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="kms_auth.html#iam-policy-configuration-for-service-to-service-auth">IAM policy configuration for service-to-service auth</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#passing-encrypted-data-between-services">Passing encrypted data between services</a></li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#user-to-service-authentication">User-to-service authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="kms_auth.html#multi-account-kms-authentication">Multi-account KMS authentication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="threat_model.html">Threat model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="threat_model.html#web-client-threat-model">Web client threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#assumptions">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-authenticated-user-can-achieve">What an authenticated user can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-compromise-of-an-authenticated-user-s-computer-can-achieve">What compromise of an authenticated user’s computer can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-unauthenticated-local-network-attacker-who-can-observe-network-traffic-can-achieve">What an unauthenticated local network attacker who can observe network traffic can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-unauthenticated-attacker-from-the-internet-can-achieve">What an unauthenticated attacker from the Internet can achieve</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="threat_model.html#web-server-threat-model">Web server threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#id1">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-attacker-can-achieve-through-compromise-of-the-confidant-web-server">What an attacker can achieve through compromise of the Confidant web server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="threat_model.html#service-client-threat-model">Service client threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#id2">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-the-service-can-achieve">What the service can achieve</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-attacker-can-achieve-with-a-filesystem-read-vulnerability">What an attacker can achieve with a filesystem read vulnerability</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="threat_model.html#storage-threat-model">Storage threat model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#id3">Assumptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="threat_model.html#what-an-attacker-with-dynamodb-access-can-achieve">What an attacker with DynamoDB access can achieve</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#code-of-conduct">Code of conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#contributing-code">Contributing code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#sign-the-contributor-license-agreement-cla">Sign the Contributor License Agreement (CLA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#file-issues-in-github">File issues in Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#submit-pull-requests">Submit pull requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#development-guide">Development guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#starting-confidant">Starting confidant</a></li>
<li class="toctree-l3"><a class="reference internal" href="contributing.html#running-tests">Running tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_schema.html">DynamoDB Data Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_schema.html#at-rest-encryption-model">At-rest encryption model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#permanantly-archiving-disabled-credentials-to-a-separate-dynamodb-table">Permanantly archiving disabled credentials to a separate DynamoDB table</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#restoring-archived-credentials-back-into-the-primary-dynamodb-table">Restoring archived credentials back into the primary DynamoDB table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrade.html">Upgrading</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#upgrading-to-2-0-0-or-3-0-0">Upgrading to 2.0.0 or 3.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html#performing-the-data-migration">Performing the data migration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upgrade.html#upgrading-to-4-0-0">Upgrading to 4.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="upgrade.html#peforming-the-data-migration-for-4-0-0">Peforming the data migration for 4.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">6.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id2">6.5.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id3">6.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id4">6.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id5">6.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id6">6.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id7">6.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id8">5.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id9">5.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id10">5.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id11">5.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id12">4.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id13">4.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id14">4.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id15">4.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id16">4.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id17">4.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id18">3.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id19">2.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id20">2.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id21">1.11.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id22">1.10.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id23">1.10.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id24">1.9.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id25">1.8.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id26">1.7.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id27">1.6.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id28">1.5.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id29">1.5.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id30">1.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id31">1.3.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id32">1.2.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id33">1.1.21</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id34">1.1.20</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id35">1.1.19</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id36">1.1.16 - 1.1.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id37">1.1.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id38">1.1.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="changelog.html#id39">1.1.13</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Communication</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="security_reporting.html">Reporting security vulnerabilities</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">confidant</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/install.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<section id="quickstart-for-testing">
<h2>Quickstart for testing<a class="headerlink" href="#quickstart-for-testing" title="Permalink to this heading">¶</a></h2>
<p>If you just want to checkout Confidant and aren’t looking to deploy it into
production, it’s possible to get started without any external dependencies.
Check out the <a class="reference external" href="contributing.html#development-guide">test and development quickstart</a>
for this.</p>
<p>Note that you should <em>never</em> run with this quickstart configuration in production.</p>
</section>
<section id="docker-installation">
<h2>Docker installation<a class="headerlink" href="#docker-installation" title="Permalink to this heading">¶</a></h2>
<section id="to-run-confidant-in-docker">
<h3>To run confidant in Docker<a class="headerlink" href="#to-run-confidant-in-docker" title="Permalink to this heading">¶</a></h3>
<p>It’s necessary to export your configuration variables before running confidant.
You can either specify them as multiple -e options, or you can put them into
an environment file and use –env-file.</p>
<p>A production-ready docker image is available in
<a class="reference external" href="https://github.com/lyft/confidant/pkgs/container/confidant">GitHub Container Registry</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker pull ghcr.io/lyft/confidant:master
</pre></div>
</div>
<p>This image can then be ran with any of your desired command line flags:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run --rm ghcr.io/lyft/confidant:master --help
</pre></div>
</div>
</section>
<section id="to-build-the-image">
<h3>To build the image<a class="headerlink" href="#to-build-the-image" title="Permalink to this heading">¶</a></h3>
<p>If you want to build the image and store it in your private registry, you can
do the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/lyft/confidant
<span class="nb">cd</span> confidant
docker build -t lyft/confidant .
</pre></div>
</div>
</section>
</section>
<section id="pip-installation">
<h2>pip installation<a class="headerlink" href="#pip-installation" title="Permalink to this heading">¶</a></h2>
<p>Warning: this is still a work in progress and it may not be working right now.
We’ll remove this warning when we have pip installation fully working.</p>
<ol class="arabic simple">
<li><p>Using Ubuntu or Debian (please help with non-Ubuntu/Debian install
instructions!)</p></li>
<li><p>Using gunicorn as the wsgi server</p></li>
<li><p>venv location: /srv/confidant/venv</p></li>
</ol>
<section id="make-a-virtualenv-and-install-pip-requirements">
<h3>Make a virtualenv and install pip requirements<a class="headerlink" href="#make-a-virtualenv-and-install-pip-requirements" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install -y python python-pip python-virtualenv python-dev build-essential libffi-dev libxml2-dev libxmlsec1-dev
<span class="nb">cd</span> /srv/confidant
virtualenv venv
<span class="nb">source</span> venv/bin/activate
pip install -U pip
pip install confidant
deactivate
</pre></div>
</div>
<p>Note that the pip package includes the minified, generated frontend artifacts,
in the dist directory. This can be configured via the STATIC_FOLDER setting.</p>
</section>
</section>
<section id="manual-installation">
<h2>Manual installation<a class="headerlink" href="#manual-installation" title="Permalink to this heading">¶</a></h2>
<p>Assumptions:</p>
<ol class="arabic simple">
<li><p>Using Ubuntu or Debian (please help with non-Ubuntu/Debian install
instructions!)</p></li>
<li><p>Using gunicorn as the wsgi server</p></li>
<li><p>Installation location: /srv/confidant/venv</p></li>
<li><p>venv location: /srv/confidant/venv</p></li>
<li><p>node_modules location: /srv/confidant/node_modules</p></li>
</ol>
<section id="clone-confidant">
<h3>Clone Confidant<a class="headerlink" href="#clone-confidant" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /srv
git clone https://github.com/lyft/confidant
</pre></div>
</div>
</section>
<section id="id1">
<h3>Make a virtualenv and install pip requirements<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install -y python python-pip python-virtualenv python-dev build-essential libffi-dev libxml2-dev libxmlsec1-dev
<span class="nb">cd</span> /srv/confidant
virtualenv venv
<span class="nb">source</span> venv/bin/activate
pip install -U pip
pip install -r requirements.txt
deactivate
</pre></div>
</div>
</section>
<section id="build-the-frontend">
<h3>Build the frontend<a class="headerlink" href="#build-the-frontend" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /srv/confidant
sudo apt-get install -y npm nodejs nodejs-legacy git git-core
gem install compass
npm install grunt-cli
npm install
node_modules/grunt-cli/bin/grunt build
</pre></div>
</div>
</section>
<section id="run-confidant">
<h3>Run confidant<a class="headerlink" href="#run-confidant" title="Permalink to this heading">¶</a></h3>
<p>It’s necessary to export your configuration variables before running confidant.
The easiest method is to source a file that exports your environment before
running confidant.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> my_config
<span class="nb">cd</span> /srv/confidant
<span class="nb">source</span> venv/bin/activate
gunicorn confidant.wsgi:app --workers<span class="o">=</span><span class="m">2</span> -k gevent
</pre></div>
</div>
<p>That’s it. See the configuration documentation about how to configure and run.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contents.html" class="btn btn-neutral float-left" title="Confidant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2024, Confidant Project Authors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>