<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Confidant: Your secret keeper</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Source+Code+Pro">
    <link href="../../stylesheets/site-820e35f9.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
      <header id="header">
    <nav class="global-nav" role="navigation">
  <section class="wrap-container">
    <header class="global-nav-item logo-text">
      <a class="global-nav-logo" href="../../">Confidant</a>
    </header>

    <ul class="global-nav-list">
      <li class="global-nav-item">
        <a href="//twitter.com/share" class="twitter-share-button" data-text="Confidant, your secret keeper" data-via="lyft" data-count="none">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

      </li>
      <li class="global-nav-item">
        <iframe src="//ghbtns.com/github-btn.html?user=lyft&repo=confidant&type=watch" height="30" width="70" frameborder="0" scrolling="0" style="width:70px; height: 30px;" class="github-btn" allowTransparency="true"></iframe>

      </li>
      <li class="global-nav-item">
        <a class="cta-link-nav-filled" href="../../basics/install/">Docs</a>
      </li>
    </ul>
  </section>
</nav>

  </header>

  <div class="body-content-container wrap-container" role="main">
    <nav id="toc" class="sidebar" data-waypoint="sidebar">
      <div id="search" role="search">
  <form>
    <input class="st-default-search-input" id="st-default-search-input" type="search" placeholder="Search the docs">
  </form>
  <div id="st-results-container"></div>
  <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

    _st('install','pzDJ5qvukhA8YuSHzVGN','2.0.0');
  </script>
</div>

<div class="toc-block-container">
  <div class="toc-block">
    <h3 class="docs-section-heading">Basics</h3>
    <ul>
      <li class="doc-item">
        <a href="../../basics/install/">Install</a> </li>
      <li class="doc-item">
        <a href="../../basics/configuration/">Configure</a>
        </li>
      <li class="doc-item">
        <a href="../../basics/using_confidant/">Managing Secrets and Mappings</a>
        </li>
      <li class="doc-item">
        <a href="../../basics/client/">Using the Client</a>
        </li>
    </ul>
  </div>

  <div class="toc-block">
    <h3 class="docs-section-heading">Advanced</h3>
    <ul>
      <li class="doc-item">
        <a href="../blind_secrets/">Server-blinded Secrets</a>
        </li>
      <li class="doc-item">
        <a href="../kms_auth/">KMS Authentication</a>
        </li>
      <li class="doc-item">
        <a href="../threat_model/">Threat Model</a>
        </li>
      <li class="doc-item">
        <a href="../contributing/">Contributing</a>
        </li>
      <li class="doc-item">
        <a href="../data_schema/">Data Schema</a>
        </li>
      <li class="doc-item">
        <a href="./">Changelog</a>
        </li>
    </ul>
  </div>
  <div class="toc-block">
    <h3 class="docs-section-heading">Communication</h3>
    <ul>
      <li class="doc-item">
        <a href="../../communication/support/">Support</a>
	</li>
      <li class="doc-item">
        <a href="../../communication/security_reporting/">Security Reporting</a>
	</li>
    </ul>
  </div>
</div>

    </nav>

    <main class="main" role="main" data-waypoint="main">
      <h1 id="changelog">Changelog</h1>

<h2 id="1-8">1.8</h2>

<h3 id="1-8-0">1.8.0</h3>

<ul>
<li>Switch LRU for in-memory cache from an inefficient python implementation to
lru-dict.</li>
</ul>

<h2 id="1-7">1.7</h2>

<h3 id="1-7-0">1.7.0</h3>

<ul>
<li>Update appdirs requirement</li>
</ul>

<h2 id="1-6">1.6</h2>

<h3 id="1-6-0">1.6.0</h3>

<ul>
<li>Update python-saml for CVE-2016-1000252.</li>
</ul>

<h2 id="1-5">1.5</h2>

<h3 id="1-5-1">1.5.1</h3>

<ul>
<li>Fix docker_push.sh</li>
</ul>

<h3 id="1-5-0">1.5.0</h3>

<ul>
<li>Added a feature to disable the credential conflict checks; see configuration
docs for IGNORE_CONFLICTS</li>
</ul>

<h2 id="1-4">1.4</h2>

<h3 id="1-4-0">1.4.0</h3>

<ul>
<li>Added support for sending basic webhooks; see configuration docs for
WEBHOOK_URL</li>
</ul>

<h2 id="1-3">1.3</h2>

<h3 id="1-3-0">1.3.0</h3>

<ul>
<li>Update statsd depencency from 3.1 to 3.2.1</li>
</ul>

<h2 id="1-2">1.2</h2>

<h3 id="1-2-0">1.2.0</h3>

<ul>
<li>Switch to doing semver in a more proper way. Though generally all previous
releases were backwards compatible, we had been releasing features in point
releases rather than minor releases. Going forward, breaking changes will be
in major releases, features in minor releases, and bugfixes in point
releases. When dependencies are updated we&#39;ll consider the impact of the
dependency update to determine the semver release</li>
<li>Made the XSRF cookie name configurable. See the configuration docs for how to
changet he XSRF cookie name.</li>
</ul>

<h2 id="1-1">1.1</h2>

<h3 id="1-1-21">1.1.21</h3>

<ul>
<li>Move scripts into the confidant module to be able to use the scripts when pip
installed</li>
</ul>

<h3 id="1-1-20">1.1.20</h3>

<ul>
<li>Added changes and settings for better performance in confidant. See the
performance section in the configuration docs</li>
</ul>

<h3 id="1-1-19">1.1.19</h3>

<ul>
<li>Important change: the location of the wsgi.py has moved inside of the
confidant module to make the pypi package runnable. This changes the gunicorn
invocation from <code>gunicorn wsgi:app -k gevent</code> to <code>gunicorn confidant.wsgi:app
-k gevent</code></li>
</ul>

<h3 id="1-1-16-1-1-18">1.1.16 - 1.1.18</h3>

<ul>
<li>Getting the pypi package into a working state</li>
</ul>

<h3 id="1-1-15">1.1.15</h3>

<ul>
<li>Split the client away from the confidant repo</li>
</ul>

<h3 id="1-1-14">1.1.14</h3>

<ul>
<li>Security fix: While preparing for the 1.1 stable release Lyft found a KMS
authentication vulnerability in the unreleased 1.1 branch while performing an
audit of the code. The vulnerability was introduced while adding the scoped auth
key feature (for limiting authentication keys and services to specific AWS
accounts), where the key was not properly checked after decryption. This check is
an additional verification to add additional safety on-top of the IAM policy of
your KMS keys. If IAM policy allows users to use KMS keys without limits on
encryption context, a KMS key that wasn&#39;t intended to be used for auth, could be
used for auth.</li>
</ul>

<h3 id="1-1-13">1.1.13</h3>

<p>versions 1.1.0 - 1.1.12 were pre-release versions of the 1.1 branch. The
versions were generally increased for changes to the client, during internal
updates at Lyft. Since 1.1.13 is the first release, we&#39;ll be tracking changes
in the changelog from this point on. Future releases will track all changes,
even in unreleased branches.</p>

<ul>
<li>Security fix: We discovered when adding tests after a refactor of some of the
KMS authentication code that confidant wasn&#39;t properly checking the
expiration of KMS auth tokens. If tokens were able to be exfiltrated from a
service, they could be used indefinitely. This has now been fixed, and any
tokens that are expired will now correctly fail to authenticate.</li>
<li>Feature: Server-blinded secret support (called blind credentials in code and
interface). A new type of secret that confidant simply stores, assuming it&#39;s
been encrypted prior to being passed in. Makes it possible to have
credentials mapped to services where only the service has the ability to
decrypt the secret.</li>
<li>Refactor: The user authentication code went through a refactor to be abstract
and support multiple forms of authentication in a configurable way. The
authentication flow for users has also changed along with this refactor.
There&#39;s now a proper login/logout flow, and users will be presented with an
interface before they&#39;re required to authenticate. When a user&#39;s session has
expired, they&#39;ll be redirected to a loggedout page.</li>
<li>Feature: SAML authentication support for user authentication.</li>
<li>New python dependencies (for SAML): python-saml</li>
<li>New system dependencies (for SAML): libxml2-dev libxmlsec1-dev</li>
<li>Feature: Header authentication support for user authentication.</li>
<li>Feature (and new default): Added support for secure cookies for session
management. This removes the dependency on redis. New settings were added to
control the lifetime of secure cookie sessions.</li>
<li>Feature: Extensible metadata for secrets and blind secrets. </li>
<li>Feature: AWS account scoping for services. If you&#39;re using multiple AWS
accounts, it&#39;s possible to limit access to services from specific accounts by
using multiple KMS keys for KMS authentication.</li>
<li>Feature: A new version of KMS auth (version 2). The new version of KMS auth
can allow service-to-service authentication, or user-to-service
authentication. It&#39;s possible to use the same authentication key for both
service-to-service authentication and user-to-service authentication, but it&#39;s
recommended to make a new KMS key specific to user authentication, unless
care is taken with IAM policy and your KMS auth key grants are updated to
require KMS auth v2 (a maintenance script is included with this purpose). By
default confidant will only allow service-to-service authentication.</li>
<li>Feature: Added a config setting to disable KMS auth key grant management. If
you prefer to manage your KMS auth via IAM policy rather than grants, this
option will ensure that no grants are added to your keys. A maintenance
script is included to purge any grants that may already exist on your key.</li>
<li>Feature: Added an opinionated confidant client.</li>
<li>Feature: Add a formatter for get_service output, with a few export formats
(combined credential pair output, bash variable export format, etc).</li>
<li>Feature: Added a REST endpoint to provide configuration information to
clients, to help them configure themselves. It&#39;s also possible to add a set
of custom configuration to be sent to clients along with the server generated
config, via the CLIENT_CONFIG setting.</li>
<li>Feature: Added a setting, SECRETS_BOOTSTRAP, that can either be a base64
encoded, KMS encrypted, YAML dict, or a file path that contains the base64
encoded, KMS encrypted, YAML dict. A maintenance script is included that will
let you generate the encrypted and encoded form of this dict from a yaml
file. All of confidant&#39;s sensitive settings can be loaded from this bootstrap
data, allowing you to bootstrap confidant&#39;s own secrets.</li>
<li>Feature: A new setting, DYNAMODB_CREATE_TABLE, has been added to allow
confidant to create its own dynamodb table, if it doesn&#39;t exist yet.</li>
<li>Feature: Automatic secret generation for credential pairs from angular UI.</li>
<li>Fix: performance fixes for angularjs (disabling some debugging features and
ignoring grants when grants are disabled).</li>
</ul>

    </main>
  </div>

    <footer class="footer" data-waypoint="footer" role="contentinfo">
  <div class="wrap-container">
    <div class="footer-column">
      <article class="footer-site-information">
        <p>
          &copy; 2014&ndash;2017 Lyft, Inc
        </p>
      </article>
      <article class="footer-contact">
        <ul class="footer-contact-list">
          <li class="footer-contact-list-item twitter-link">
            <a href="//twitter.com/share" class="twitter-share-button" data-text="Confidant, your secret keeper" data-via="lyft" data-count="none">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

          </li>
          <li class="footer-contact-list-item github-link">
            <iframe src="//ghbtns.com/github-btn.html?user=lyft&repo=confidant&type=watch" height="30" width="70" frameborder="0" scrolling="0" style="width:70px; height: 30px;" class="github-btn" allowTransparency="true"></iframe>

          </li>
          <li class="footer-contact-list-item">
            <a href="//www.lyft.com/app">Download the Lyft app</a>
          </li>
        </ul>
      </article>
    </div>
    <div class="footer-column footer-right">
      <p class="footer-credit">
        From the developers at
      </p>
      <a href="//lyft.com" target="_blank">
        <span class="footer-logo"></span>
      </a>
    </div>
  </div>
</footer>

    <script src="../../javascripts/site-c8d66733.js" type="text/javascript"></script>
    <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1446928-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>

  </body>
</html>
